线程与进程的区别？


> 什么是进程
* 进程是资源分配的基本单位
* 每个进程都有自己独立的一块内存空间，一个进程可以有多个线程
* 一个在内存中运行的应用程序,应用程序一旦执行，就是一个进程。每个进程都有自己独立的地址空间,每启动一个进程,系统就会为它分配地址空间,建立数据表来维护代码段,堆栈段和数据段

> 进程与线程的区别？
* 进程是操作系统资源分配的基本单位，而线程是处理器任务调度和执行的基本单位
* 同一进程的线程共享本进程的地址空间和资源，而进程之间的地址空间和资源是相互独立的
* 一个进程崩溃后，在保护模式下不会对其他进程产生影响，但是一个线程崩溃整个进程都死掉。所以多进程要比多线程健壮
* 每个独立的进程有程序运行的入口、顺序执行序列和程序出口。但是线程不能独立执行，必须依存在应用程序中，由应用程序提供多个线程执行控制
* 如果一个进程内有多个线程，则执行过程不是一条线的，而是多条线（线程）共同完成的；线程是进程的一部
* 多进程：操作系统中同时运行的多个程序
* 多线程：在同一个进程中同时运行的多个任务


> 进程的通信方式

每个进程各自有不同的用户地址空间，任何一个进程的全局变量在另一个进程中都看不到，所以进程之间要交换数据必须通过内核

在内核中开辟一块缓冲区，进程1把数据从用户空间拷到内核缓冲区，进程2再从内核缓冲区把数据读走，内核提供的这种机制称为进程间通信

1. 管道/匿名管道(pipe)
  * 管道是半双工的，数据只能向一个方向流动；需要双方通信时，需要建立起两个管道
  * 只能用于父子进程或者兄弟进程之间(具有亲缘关系的进程);
  * 一个进程向管道中写的内容被管道另一端的进程读出。写入的内容每次都添加在管道缓冲区的末尾，并且每次都是从缓冲区的头部读出数据
  * 管道的实质：实质是一个内核缓冲区，进程以先进先出的方式从缓冲区存取数据，管道一端的进程顺序的将数据写入缓冲区，另一端的进程则顺序的读出数据

2. 有名管道(FIFO)
  * 有名管道不同于匿名管道之处在于它提供了一个路径名与之关联，以有名管道的文件形式存在于文件系统中
  * 即使与有名管道的创建进程不存在亲缘关系的进程，只要可以访问该路径，就能够彼此通过有名管道相互通信
  * 有名管道严格遵循先进先出(first in first out),对匿名管道及有名管道的读总是从开始处返回数据，对它们的写则把数据添加到末尾。它们不支持诸如lseek()等文件定位操作
  * 有名管道的名字存在于文件系统中，内容存放在内存中。
  * 匿名管道是单向的，只能在有亲缘关系的进程间通信；有名管道以磁盘文件的方式存在，可以实现本机任意两个进程通信

3.信号(Signal)
  * 信号可以在任何时候发给某一进程，而无需知道该进程的状态
  * 如果该进程当前并未处于执行状态，则该信号就有内核保存起来，知道该进程回复执行并传递给它为止
  * 如果一个信号被进程设置为阻塞，则该信号的传递被延迟，直到其阻塞被取消是才被传递给进程

4. 消息(Message)队列
  * 消息队列是存放在内核中的消息链表，每个消息队列由消息队列标识符表示
  * 与管道（无名管道：只存在于内存中的文件；命名管道：存在于实际的磁盘介质或者文件系统）不同的是消息队列存放在内核中，只有在内核重启(即，操作系统重启)或者显示地删除一个消息队列时，该消息队列才会被真正的删除
  * 消息队列在某个进程往一个队列写入消息之前，并不需要另外某个进程在该队列上等待消息的到达

5.  共享内存(share memory)
  * 使得多个进程可以可以直接读写同一块内存空间，是最快的可用IPC形式。是针对其他通信机制运行效率较低而设计的
  * 为了在多个进程间交换信息，内核专门留出了一块内存区，可以由需要访问的进程将其映射到自己的私有地址空间。进程就可以直接读写这一块内存而不需要进行数据的拷贝，从而大大提高效率。
  * 由于多个进程共享一段内存，因此需要依靠某种同步机制（如信号量）来达到进程间的同步及互斥

6. 信号量(semaphore)
  * 信号量是一个计数器，用于多进程对共享数据的访问，信号量的意图在于进程间同步。
 
7. 套接字(socket)
  * 客户/服务器（即要进行通信的进程）系统的开发工作既可以在本地单机上进行，也可以跨网络进行
  * 它可以让不在同一台计算机但通过网络连接计算机上的进程进行通信
  

> 创建新的进程，文件描述符有哪些


> 操作系统，线程是不是越多越好


